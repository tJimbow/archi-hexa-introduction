<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 700" width="1000" height="700">
  <defs>
    <style>
      .box { fill: #2d3748; stroke: #4a5568; stroke-width: 2; }
      .domain-box { fill: #1a365d; stroke: #2c5282; stroke-width: 3; }
      .primary-box { fill: #2c7a7b; stroke: #319795; stroke-width: 2; }
      .secondary-box { fill: #744210; stroke: #975a16; stroke-width: 2; }
      .core-box { fill: #553c9a; stroke: #6b46c1; stroke-width: 2; }
      .text { fill: #e2e8f0; font-family: Arial, sans-serif; font-size: 14px; }
      .text-bold { fill: #f7fafc; font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; }
      .text-small { fill: #cbd5e0; font-family: Arial, sans-serif; font-size: 12px; }
    </style>
    <marker id="arrowhead-blue" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#90cdf4" />
    </marker>
    <marker id="arrowhead-orange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#fbbf24" />
    </marker>
    <marker id="arrowhead-green" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#4ade80" />
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#f97316" />
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1000" height="700" fill="#1a202c"/>

  <!-- USER / EXTERNAL SYSTEM (en haut Ã  gauche, au-dessus des Primary Adapters) -->
  <rect x="50" y="30" width="180" height="60" class="box" rx="5"/>
  <text x="140" y="55" class="text" text-anchor="middle">Utilisateur</text>
  <text x="140" y="75" class="text" text-anchor="middle">(Navigateur Web)</text>

  <!-- PRIMARY ADAPTERS (sous l'utilisateur) -->
  <rect x="50" y="120" width="180" height="150" class="primary-box" rx="5"/>
  <text x="140" y="145" class="text-bold" text-anchor="middle">PRIMARY ADAPTERS</text>
  <text x="140" y="165" class="text-small" text-anchor="middle">(Driving - Vue.js)</text>
  <line x1="60" y1="175" x2="220" y2="175" stroke="#319795" stroke-width="1"/>
  <text x="70" y="195" class="text">â€¢ Vue Components</text>
  <text x="70" y="215" class="text">â€¢ Vue Router</text>
  <text x="70" y="235" class="text">â€¢ Composables</text>
  <text x="70" y="255" class="text">â€¢ Pinia Stores</text>

  <!-- INFRASTRUCTURE EXTERNE (en haut Ã  droite, au-dessus des Secondary Adapters) -->
  <rect x="770" y="30" width="180" height="60" class="box" rx="5"/>
  <text x="860" y="55" class="text" text-anchor="middle">.NET Core Web APIs</text>
  <text x="860" y="75" class="text" text-anchor="middle">+ Azure Functions</text>

  <!-- SECONDARY ADAPTERS (sous l'infrastructure externe) -->
  <rect x="770" y="120" width="180" height="150" class="secondary-box" rx="5"/>
  <text x="860" y="145" class="text-bold" text-anchor="middle">SECONDARY ADAPTERS</text>
  <text x="860" y="165" class="text-small" text-anchor="middle">(Driven - HTTP)</text>
  <line x1="780" y1="175" x2="940" y2="175" stroke="#975a16" stroke-width="1"/>
  <text x="790" y="195" class="text">â€¢ Axios Client</text>
  <text x="790" y="215" class="text">â€¢ Fetch API</text>
  <text x="790" y="235" class="text">â€¢ HTTP Interceptors</text>
  <text x="790" y="255" class="text">â€¢ LocalStorage</text>

  <!-- DOMAIN (HEXAGONE) -->
  <rect x="100" y="320" width="800" height="300" class="domain-box" rx="10"/>
  <text x="500" y="350" class="text-bold" text-anchor="middle" font-size="18">DOMAINE (HEXAGONE)</text>

  <!-- PRIMARY PORTS -->
  <rect x="130" y="380" width="180" height="200" class="primary-box" rx="5"/>
  <text x="220" y="405" class="text-bold" text-anchor="middle">PRIMARY PORTS</text>
  <text x="220" y="425" class="text-small" text-anchor="middle">(Use Cases)</text>
  <line x1="140" y1="435" x2="300" y2="435" stroke="#319795" stroke-width="1"/>
  <text x="150" y="455" class="text">â€¢ IUserService</text>
  <text x="150" y="475" class="text">â€¢ IProductService</text>
  <text x="150" y="495" class="text">â€¢ IAuthService</text>
  <text x="150" y="515" class="text-small">(Interfaces TypeScript)</text>

  <!-- SECONDARY PORTS -->
  <rect x="690" y="380" width="180" height="200" class="secondary-box" rx="5"/>
  <text x="780" y="405" class="text-bold" text-anchor="middle">SECONDARY PORTS</text>
  <text x="780" y="425" class="text-small" text-anchor="middle">(Repositories)</text>
  <line x1="700" y1="435" x2="860" y2="435" stroke="#975a16" stroke-width="1"/>
  <text x="710" y="455" class="text">â€¢ IUserRepository</text>
  <text x="710" y="475" class="text">â€¢ IProductRepository</text>
  <text x="710" y="495" class="text">â€¢ IAuthRepository</text>
  <text x="710" y="515" class="text-small">(Interfaces TypeScript)</text>

  <!-- MÃ‰TIER (CORE) -->
  <rect x="380" y="420" width="240" height="120" class="core-box" rx="5"/>
  <text x="500" y="450" class="text-bold" text-anchor="middle" font-size="18">MÃ‰TIER</text>
  <line x1="390" y1="460" x2="610" y2="460" stroke="#6b46c1" stroke-width="1"/>
  <text x="500" y="485" class="text" text-anchor="middle">EntitÃ©s</text>
  <text x="500" y="505" class="text" text-anchor="middle">RÃ¨gles</text>
  <text x="500" y="525" class="text" text-anchor="middle">Logique</text>

  <!-- Bottom labels -->
  <text x="220" y="650" class="text-bold" text-anchor="middle">CÃ”TÃ‰ GAUCHE (PRIMARY)</text>
  <text x="220" y="670" class="text-small" text-anchor="middle">Vue.js interagit avec l'utilisateur</text>

  <text x="780" y="650" class="text-bold" text-anchor="middle">CÃ”TÃ‰ DROIT (SECONDARY)</text>
  <text x="780" y="670" class="text-small" text-anchor="middle">Appelle .NET Core / Azure Functions</text>

  <!-- Flow explanation -->
  <text x="500" y="640" class="text-small" text-anchor="middle" fill="#fbbf24">âž¡ Primary Adapters â†’ Primary Ports â†’ MÃ©tier â†’ Secondary Ports â†’ Secondary Adapters âž¡</text>

  <!-- Legend at bottom -->
  <text x="500" y="690" class="text-bold" text-anchor="middle" font-size="15">ðŸŽ¯ Les PORTS sont dans le DOMAINE - Les ADAPTATEURS implÃ©mentent les PORTS</text>

  <!-- ARROWS - Drawn AFTER all boxes so they appear on top -->

  <!-- Green arrow: User interacts with Primary Adapters -->
  <path d="M 140 90 L 140 120" stroke="#4ade80" stroke-width="3" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowhead-green)"/>
  <text x="30" y="110" fill="#4ade80" font-family="Arial, sans-serif" font-size="12px" font-weight="bold">Utilisateur</text>
  <text x="30" y="125" fill="#4ade80" font-family="Arial, sans-serif" font-size="12px" font-weight="bold">interagit</text>

  <!-- Blue arrow: Primary Adapters call Primary Ports -->
  <path d="M 140 270 L 140 380" stroke="#90cdf4" stroke-width="2" fill="none" marker-end="url(#arrowhead-blue)"/>
  <text x="90" y="330" fill="#90cdf4" font-family="Arial, sans-serif" font-size="11px" font-style="italic">appellent</text>

  <!-- Blue arrow: Primary Ports use MÃ©tier -->
  <path d="M 310 480 L 380 480" stroke="#90cdf4" stroke-width="2" fill="none" marker-end="url(#arrowhead-blue)"/>
  <text x="340" y="470" fill="#90cdf4" font-family="Arial, sans-serif" font-size="11px" font-style="italic">utilise</text>

  <!-- Blue arrow: MÃ©tier uses Secondary Ports -->
  <path d="M 620 480 L 690 480" stroke="#90cdf4" stroke-width="2" fill="none" marker-end="url(#arrowhead-blue)"/>
  <text x="640" y="470" fill="#90cdf4" font-family="Arial, sans-serif" font-size="11px" font-style="italic">utilise</text>

  <!-- Blue arrow: Secondary Adapters implement Secondary Ports -->
  <path d="M 860 270 L 860 380" stroke="#90cdf4" stroke-width="2" fill="none" marker-end="url(#arrowhead-blue)"/>
  <text x="875" y="330" fill="#90cdf4" font-family="Arial, sans-serif" font-size="11px" font-style="italic">implÃ©mentent</text>

  <!-- Red arrow: Secondary Adapters call External APIs -->
  <path d="M 860 120 L 860 90" stroke="#f97316" stroke-width="3" fill="none" stroke-dasharray="5,3" marker-end="url(#arrowhead-red)"/>
  <text x="900" y="100" fill="#f97316" font-family="Arial, sans-serif" font-size="12px" font-weight="bold">Appelle</text>
  <text x="900" y="115" fill="#f97316" font-family="Arial, sans-serif" font-size="12px" font-weight="bold">APIs externes</text>

  <!-- Orange flow arrow showing complete path through domain - Drawn LAST so it's on top -->
  <path d="M 310 450 Q 500 390 690 450" stroke="#fbbf24" stroke-width="5" fill="none" stroke-dasharray="10,5" marker-end="url(#arrowhead-orange)"/>
  <text x="500" y="380" fill="#fbbf24" font-family="Arial, sans-serif" font-size="15px" font-weight="bold" text-anchor="middle" style="text-shadow: 2px 2px 4px #1a202c, -1px -1px 2px #1a202c, 1px -1px 2px #1a202c, -1px 1px 2px #1a202c;">Flux via le domaine</text>
</svg>

